\documentclass[UTF8]{ctexart}
\usepackage{amsmath}
\usepackage{listings}
\usepackage{geometry}
\usepackage{fontspec}

\geometry{a4paper,left=2.5cm,right=2cm,top=2.5cm,bottom=2.5cm}
\CTEXsetup[format={\large\bfseries}]{section}

\title{矩阵计算库API}
\author{高飞}
\date{\today}

\begin{document}
\maketitle
\newpage

\tableofcontents
\newpage

\section{简介}

\begin{itemize}
    \item 包含矩阵的常用操作，如四则运算、求逆矩阵、求特征值、解线性方程组等。
    \item C++编译器需支持C++11及以上标准。
\end{itemize}

\section{矩阵构造}
\subsection{构造函数}
{
    \setmainfont{Consolas}
    \begin{lstlisting}[language=C++]
    Matrix();
    Matrix(const usize& m, const usize& n);
    Matrix(const std::initializer_list<std::initializer_list<double>>& m);
    Matrix(const Matrix& other);
    Matrix(Matrix&& other);
    \end{lstlisting}
}

\subsection{Examples}
{
    \setmainfont{Consolas}
    \begin{lstlisting}[language=C++]
    Matrix A;
    Matrix B(2,3);
    Matrix C1({{1,2,3}});
    Matrix C2({{1},{2},{3}});
    Matrix D({1,2,3},{4,5,6});
    Matrix E(D);
    \end{lstlisting}
}
\textbf{Result:}
{
\small{
$$
A = (),
\quad 
B = \left(
\begin{matrix}
   0 & 0 & 0 \\
   0 & 0 & 0
  \end{matrix}
\right),
\quad
C1 = \left(
\begin{matrix}
   1 & 2 & 3
  \end{matrix}
\right),
\quad
C2 = \left(
\begin{matrix}
   1 \\
   2 \\
   3
  \end{matrix}
\right),
\quad
D = \left(
\begin{matrix}
   1 & 2 & 3 \\
   4 & 5 & 6
  \end{matrix}
\right),
\quad
E = \left(
\begin{matrix}
   1 & 2 & 3 \\
   4 & 5 & 6
  \end{matrix}
\right)
$$
}
}

\section{元素索引}
支持[]操作符和at()函数进行矩阵元素索引。

\textbf{Example:}
{
    \setmainfont{Consolas}
    \begin{lstlisting}[language=C++]
    Matrix M({1,2,3},{4,5,6});
    M[1][1] = 0;                // []操作符
    M.at(0,2) = 0.5;            // at()函数
    \end{lstlisting}
}

\textbf{Result：}$M = \left( \begin{matrix} 1 & 2 & 0.5 \\ 4 & 0 & 6 \end{matrix} \right) $\\

\textbf{[]操作符与at()函数的区别：}[]操作符不进行下标越界检查，at()函数会进行下标检查，若下标越界则抛出\textbf{std::out\_of\_range}异常。

\section{矩阵生成}
\subsection{eye}
\subsection{ones}
\subsection{zeros}
\subsection{hilb}
\subsection{rand}
\subsection{randn}
\subsection{diag}
\subsection{subMat}

\section{四则运算}
\subsection{赋值运算}
\subsection{矩阵加法}
\subsection{矩阵减法}
\subsection{矩阵乘法}
\subsection{矩阵除法}

\section{矩阵属性}
\subsection{size}
\textbf{功能：}

获取矩阵行数和列数

\textbf{函数原型：}
{
    \setmainfont{Consolas}
    \begin{lstlisting}[language=C++]
    const std::pair<usize, usize> size(const Matrix& mat)
    \end{lstlisting}
}

\textbf{输入：}

矩阵行数

\textbf{返回值：}

矩阵行数和列数

\textbf{示例：}
{
    \setmainfont{Consolas}
    \begin{lstlisting}[language=C++]
    auto a = MAT.size();  //or 
    auto a = size(MAT);
    \end{lstlisting}
}

\subsection{trans}
\subsection{rank}
\subsection{trace}
\subsection{inv}
\subsection{kernel}
\subsection{det}
\subsection{normOne, normTwo, normInf}

\section{矩阵分解}
\subsection{QR分解}
\subsection{LU分解(Doolittle分解)}
\subsection{特征值分解}
\subsection{SVD分解}

\section{其它函数}
\subsection{getRow,getColumn,getDiag}
\subsection{rbind,cbind}
\subsection{isZero}
\subsection{filter}
\subsection{map}
\subsection{rref}
\subsection{solve}

\end{document}